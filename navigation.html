<header class="fixed top-0 left-0 right-0 z-50 bg-white shadow-md border-b border-gray-200">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-center items-center">
    
    <!-- PC 네비게이션 -->
    <nav class="hidden md:flex space-x-10 text-sm font-medium">
      <a href="#" data-page="whoami.html" class="nav-link hover:text-black transition duration-150 active">
        WHO AM I
      </a>
      <a href="./selfintro.html" class="nav-link text-gray-700 hover:text-indigo-600 pb-1 transition-colors">
        자소서
        </a>

      <!-- 프로젝트 드롭다운 -->
      <div class="relative group">
        <span class="nav-link cursor-pointer hover:text-black transition duration-150">
          프로젝트 ▼
        </span>
        <div class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2 w-56 bg-white border border-gray-200 rounded-lg shadow-lg hidden group-hover:block">
          <a href="#" data-page="projects.html" data-target="project1" class="block px-4 py-2 text-sm hover:bg-gray-50">프로젝트 1: 아동 행복</a>
          <a href="#" data-page="projects.html" data-target="project2" class="block px-4 py-2 text-sm hover:bg-gray-50">프로젝트 2: 노인 고독사</a>
          <a href="#" data-page="projects.html" data-target="project3" class="block px-4 py-2 text-sm hover:bg-gray-50">프로젝트 3: 공공 보건 캠페인</a>
          <a href="#" data-page="projects.html" data-target="project4" class="block px-4 py-2 text-sm hover:bg-gray-50">프로젝트 4: 도시 환경 만족도</a>
        </div>
      </div>
    </nav>

    <!-- 모바일 메뉴 버튼 -->
    <button id="mobile-menu-button" class="md:hidden absolute right-4 p-2 rounded-md hover:bg-gray-100">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
        class="lucide lucide-menu">
        <line x1="4" x2="20" y1="12" y2="12"/>
        <line x1="4" x2="20" y1="6" y2="6"/>
        <line x1="4" x2="20" y1="18" y2="18"/>
      </svg>
    </button>
  </div>

  <!-- 모바일 네비게이션 -->
  <nav id="mobile-menu-items" class="md:hidden bg-white border-t border-gray-200 hidden">
    <a href="#" data-page="whoami.html" class="block px-4 py-3 text-sm font-medium border-b border-gray-100 hover:bg-gray-50">
      WHO AM I
    </a>
    <a href="#" data-page="coverletter.html" class="block px-4 py-3 text-sm font-medium border-b border-gray-100 hover:bg-gray-50">
      자소서
    </a>

    <!-- 프로젝트 토글 -->
    <div id="mobile-project-toggle" class="px-4 py-3 text-sm font-medium border-b border-gray-100 cursor-pointer flex justify-between items-center hover:bg-gray-50">
      <span>프로젝트 ▼</span>
    </div>
    <div id="mobile-project-dropdown" class="hidden bg-gray-50">
      <a href="#" data-page="projects.html" data-target="project1" class="block pl-8 pr-4 py-2 text-sm hover:bg-gray-100">프로젝트 1: 아동 행복</a>
      <a href="#" data-page="projects.html" data-target="project2" class="block pl-8 pr-4 py-2 text-sm hover:bg-gray-100">프로젝트 2: 노인 고독사</a>
      <a href="#" data-page="projects.html" data-target="project3" class="block pl-8 pr-4 py-2 text-sm hover:bg-gray-100">프로젝트 3: 공공 보건 캠페인</a>
      <a href="#" data-page="projects.html" data-target="project4" class="block pl-8 pr-4 py-2 text-sm hover:bg-gray-100">프로젝트 4: 도시 환경 만족도</a>
    </div>
  </nav>
</header>

<script>
  // 모바일 메뉴 열기/닫기
  document.addEventListener('click', (e) => {
    const mobileMenu = document.getElementById('mobile-menu-items');
    const toggleButton = document.getElementById('mobile-menu-button');
    const dropdownToggle = document.getElementById('mobile-project-toggle');
    const dropdownMenu = document.getElementById('mobile-project-dropdown');

    if (toggleButton && toggleButton.contains(e.target)) {
      e.preventDefault();
      mobileMenu.classList.toggle('hidden');
    } else if (dropdownToggle && dropdownToggle.contains(e.target)) {
      dropdownMenu.classList.toggle('hidden');
    }
  });

  // 페이지 이동 로직 (index.html의 loadPage 함수와 연동됨)
  document.querySelectorAll('[data-page]').forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const page = link.getAttribute('data-page');
      const section = link.getAttribute('data-target');
      if (typeof loadPage === 'function') {
        loadPage(page, section);
      }
    });
  });
</script>
